<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../favicon.png" />
		<meta name="viewport" content="width=device-width" />
		<meta http-equiv="content-security-policy" content="">
		<link href="../../_app/immutable/assets/0.d7cc313c.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/6.007e7046.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/TocWithPageLink.95cc3c43.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/index.73536a64.css" rel="stylesheet"><!-- HEAD_svelte-1rh24oo_START --><script type="text/javascript">// make toggle sidebar work on `csr = false`
		document.addEventListener('DOMContentLoaded', function () {
			const showTocCheckbox = document.querySelector('input[name="show-toc"]');
			const specViewerEl = document.querySelector('.spec-viewer');
			const sidebarEl = specViewerEl?.querySelector('.sidebar');
			if (showTocCheckbox && specViewerEl && sidebarEl) {
				showTocCheckbox.addEventListener('change', (event) => {
					// show
					if (showTocCheckbox.checked) {
						specViewerEl.attributeStyleMap.set('--sidebar-width', `minmax(250px, 1fr)`);
						sidebarEl.attributeStyleMap.set('display', 'block');
					}
					// hide
					else {
						specViewerEl.attributeStyleMap.set('--sidebar-width', '0');
						sidebarEl.attributeStyleMap.set('display', 'none');
					}
				});
			}
		});
	</script><script type="text/javascript">// observe headings and highlight
		document.addEventListener('DOMContentLoaded', function () {
			const observer = new IntersectionObserver(function observeLastVisibleEntry(entries) {
				const visibleEntries = entries.filter(({ intersectionRatio }) => intersectionRatio !== 0);
				const lastEntry = visibleEntries.slice(1).reduce((lowestEntrySoFar, entry) => {
					if (entry.boundingClientRect.bottom > lowestEntrySoFar.boundingClientRect.bottom) {
						lowestEntrySoFar = entry;
					}
					return lowestEntrySoFar;
				}, visibleEntries[0]);
				if (!lastEntry) return;
				currentHeadingId = lastEntry.target.getAttribute('id');
			});
			const headingEls = articleContentsRef.querySelectorAll('article :is(h1,h2,h3,h4,h5,h6');
			[...headingEls].forEach((el) => {
				observer.observe(el);
			});
		});
	</script><!-- HEAD_svelte-1rh24oo_END -->
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">




<div class="spec-viewer svelte-10tsrky"><nav class="svelte-10tsrky"><div class="gnb-header svelte-y1nqfo"><div class="logo svelte-y1nqfo"><a href="/commonmark-spec-viewer/" class="svelte-y1nqfo">CommonMark Spec Viewer</a>
		<details class="spec-meta svelte-xcrhb3"><summary class="svelte-xcrhb3">Meta</summary>

	<div class="meta svelte-xcrhb3"><pre><code>title: CommonMark Spec
author: John MacFarlane
version: '0.30'
date: '2021-06-19'
license: '[CC-BY-SA 4.0](http://creativecommons.org/licenses/by-sa/4.0/)'</code></pre></div>
</details></div>

	<div class="border svelte-y1nqfo"></div>

	<div class="row svelte-y1nqfo"><div class="left">
				<label title="Show table of contents sidebar" class="svelte-y1nqfo"><input type="checkbox" name="show-toc"> ToC
				</label>
			</div>

		<div class="right svelte-y1nqfo"><a href="./single-page">View as single page</a></div></div>
</div></nav>

	<div class="sidebar svelte-10tsrky" style="display: none;"><div class="svelte-11vpjig"><!-- HTML_TAG_START --><ol>
<li>
<p><a href="./1-introduction">Introduction</a></p>
<ol>
<li><a href="./1-1-what-is-markdown">What is Markdown?</a></li>
<li><a href="./1-2-why-is-a-spec-needed">Why is a spec needed?</a></li>
<li><a href="./1-3-about-this-document">About this document</a></li>
</ol>
</li>
<li>
<p><a href="./2-preliminaries">Preliminaries</a></p>
<ol>
<li><a href="./2-1-characters-and-lines">Characters and lines</a></li>
<li><a href="./2-2-tabs">Tabs</a></li>
<li><a href="./2-3-insecure-characters">Insecure characters</a></li>
<li><a href="./2-4-backslash-escapes">Backslash escapes</a></li>
<li><a href="./2-5-entity-and-numeric-character-references">Entity and numeric character references</a></li>
</ol>
</li>
<li>
<p><a href="./3-blocks-and-inlines">Blocks and inlines</a></p>
<ol>
<li><a href="./3-1-precedence">Precedence</a></li>
<li><a href="./3-2-container-blocks-and-leaf-blocks">Container blocks and leaf blocks</a></li>
</ol>
</li>
<li>
<p><a href="./4-leaf-blocks">Leaf blocks</a></p>
<ol>
<li><a href="./4-1-thematic-breaks">Thematic breaks</a></li>
<li><a href="./4-2-atx-headings">ATX headings</a></li>
<li><a href="./4-3-setext-headings">Setext headings</a></li>
<li><a href="./4-4-indented-code-blocks">Indented code blocks</a></li>
<li><a href="./4-5-fenced-code-blocks">Fenced code blocks</a></li>
<li><a href="./4-6-html-blocks">HTML blocks</a></li>
<li><a href="./4-7-link-reference-definitions">Link reference definitions</a></li>
<li><a href="./4-8-paragraphs">Paragraphs</a></li>
<li><a href="./4-9-blank-lines">Blank lines</a></li>
</ol>
</li>
<li>
<p><a href="./5-container-blocks">Container blocks</a></p>
<ol>
<li>
<p><a href="./5-1-block-quotes">Block quotes</a></p>
</li>
<li>
<p><a href="./5-2-list-items">List items</a></p>
<ol>
<li><a href="./5-2-1-motivation">Motivation</a></li>
</ol>
</li>
<li>
<p><a href="./5-3-lists">Lists</a></p>
</li>
</ol>
</li>
<li>
<p><a href="./6-inlines">Inlines</a></p>
<ol>
<li><a href="./6-1-code-spans">Code spans</a></li>
<li><a href="./6-2-emphasis-and-strong-emphasis">Emphasis and strong emphasis</a></li>
<li><a href="./6-3-links">Links</a></li>
<li><a href="./6-4-images">Images</a></li>
<li><a href="./6-5-autolinks">Autolinks</a></li>
<li><a href="./6-6-raw-html">Raw HTML</a></li>
<li><a href="./6-7-hard-line-breaks">Hard line breaks</a></li>
<li><a href="./6-8-soft-line-breaks">Soft line breaks</a></li>
<li><a href="./6-9-textual-content">Textual content</a></li>
</ol>
</li>
<li>
<p><a href="./7-appendix-a-parsing-strategy">Appendix: A parsing strategy</a></p>
<ol>
<li>
<p><a href="./7-1-overview">Overview</a></p>
</li>
<li>
<p><a href="./7-2-phase-1-block-structure">Phase 1: block structure</a></p>
</li>
<li>
<p><a href="./7-3-phase-2-inline-structure">Phase 2: inline structure</a></p>
<ol>
<li>
<p><a href="./7-3-1-an-algorithm-for-parsing-nested-emphasis-and-links">An algorithm for parsing nested emphasis and links</a></p>
<ol>
<li><a href="./7-3-1-1-look-for-link-or-image"><em>look for link or image</em></a></li>
<li><a href="./7-3-1-2-process-emphasis"><em>process emphasis</em></a></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol><!-- HTML_TAG_END -->
</div>
	</div>

	<main class="svelte-10tsrky"><div class="contents svelte-10tsrky"><div class="contents2 svelte-ira8jq"><header class="svelte-ira8jq"><nav class="breadcrumb svelte-84fdbx" aria-label="breadcrumb"><ul class="svelte-84fdbx"><li class="svelte-84fdbx"><a href="./toc" aria-current>Spec</a></li>
		<li class="svelte-84fdbx"><a href="./4-leaf-blocks#leaf-blocks">4 Leaf blocks</a></li>
		<li class="svelte-84fdbx"><a href="#article" aria-current="page">4.5 Fenced code blocks</a></li></ul>
</nav>
				<nav data-sveltekit-reload class="svelte-1uzx3u4"><div>Prev: <a href="./4-4-indented-code-blocks#indented-code-blocks" class="svelte-1uzx3u4">4.4 Indented code blocks</a></div>

	<div>Above:
		<a href="./4-leaf-blocks#leaf-blocks" class="svelte-1uzx3u4">4 Leaf blocks</a></div>

	<div>Next: <a href="./4-6-html-blocks#html-blocks" class="svelte-1uzx3u4">4.6 HTML blocks</a></div>
</nav></header>

			<div class="article-contents svelte-ira8jq"><div class="info svelte-c5khnn"><p>Estimated reading time: 4.5 minutes
	</p>
</div>
					<article id="article" class="svelte-lfb1p4"><!-- HTML_TAG_START --><h2 id="fenced-code-blocks">4.5 Fenced code blocks</h2><p>A <a href="./4-5-fenced-code-blocks#code-fence" id="code-fence" class="same-page-hash">code fence</a> is a sequence
of at least three consecutive backtick characters (<code>`</code>) or
tildes (<code>~</code>).  (Tildes and backticks cannot be mixed.)
A <a href="./4-5-fenced-code-blocks#fenced-code-block" id="fenced-code-block" class="same-page-hash">fenced code block</a>
begins with a code fence, preceded by up to three spaces of indentation.</p><p>The line with the opening code fence may optionally contain some text
following the code fence; this is trimmed of leading and trailing
spaces or tabs and called the <a href="./4-5-fenced-code-blocks#info-string" id="info-string" class="same-page-hash">info string</a>. If the <a href="./4-5-fenced-code-blocks#info-string" class="same-page-hash">info string</a> comes
after a backtick fence, it may not contain any backtick
characters.  (The reason for this restriction is that otherwise
some inline code would be incorrectly interpreted as the
beginning of a fenced code block.)</p><p>The content of the code block consists of all subsequent lines, until
a closing <a href="./4-5-fenced-code-blocks#code-fence" class="same-page-hash">code fence</a> of the same type as the code block
began with (backticks or tildes), and with at least as many backticks
or tildes as the opening code fence.  If the leading code fence is
preceded by N spaces of indentation, then up to N spaces of indentation are
removed from each line of the content (if present).  (If a content line is not
indented, it is preserved unchanged.  If it is indented N spaces or less, all
of the indentation is removed.)</p><p>The closing code fence may be preceded by up to three spaces of indentation, and
may be followed only by spaces or tabs, which are ignored.  If the end of the
containing block (or document) is reached and no closing code fence
has been found, the code block contains all of the lines after the
opening code fence until the end of the containing block (or
document).  (An alternative spec would require backtracking in the
event that a closing code fence is not found.  But this makes parsing
much less efficient, and there seems to be no real downside to the
behavior described here.)</p><p>A fenced code block may interrupt a paragraph, and does not require
a blank line either before or after.</p><p>The content of a code fence is treated as literal text, not parsed
as inlines.  The first word of the <a href="./4-5-fenced-code-blocks#info-string" class="same-page-hash">info string</a> is typically used to
specify the language of the code sample, and rendered in the <code>class</code>
attribute of the <code>code</code> tag.  However, this spec does not mandate any
particular treatment of the <a href="./4-5-fenced-code-blocks#info-string" class="same-page-hash">info string</a>.</p><p>Here is a simple example with backticks:</p><figure id="example-119" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-119" class="same-page-hash">Example 119</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%0A%3C%0A%20%3E%0A%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">```
&#x3C;
 >
```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>&#x26;lt;
 &#x26;gt;
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>With tildes:</p><figure id="example-120" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-120" class="same-page-hash">Example 120</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=~~~%0A%3C%0A%20%3E%0A~~~" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">~~~
&#x3C;
 >
~~~</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>&#x26;lt;
 &#x26;gt;
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>Fewer than three backticks is not enough:</p><figure id="example-121" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-121" class="same-page-hash">Example 121</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%0Afoo%0A%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">``
foo
``</code></pre></div><div class="column right"><pre><code>&#x3C;p>&#x3C;code>foo&#x3C;/code>&#x3C;/p>
</code></pre></div></div></figure><p>The closing code fence must use the same character as the opening
fence:</p><figure id="example-122" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-122" class="same-page-hash">Example 122</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%0Aaaa%0A~~~%0A%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">```
aaa
~~~
```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>aaa
~~~
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><figure id="example-123" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-123" class="same-page-hash">Example 123</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=~~~%0Aaaa%0A%60%60%60%0A~~~" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">~~~
aaa
```
~~~</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>aaa
```
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>The closing code fence must be at least as long as the opening fence:</p><figure id="example-124" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-124" class="same-page-hash">Example 124</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%60%0Aaaa%0A%60%60%60%0A%60%60%60%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">````
aaa
```
``````</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>aaa
```
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><figure id="example-125" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-125" class="same-page-hash">Example 125</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=~~~~%0Aaaa%0A~~~%0A~~~~" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">~~~~
aaa
~~~
~~~~</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>aaa
~~~
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>Unclosed code blocks are closed by the end of the document
(or the enclosing <a href="./5-1-block-quotes#block-quotes" class="same-host">block quote</a> or <a href="./5-2-list-items#list-items" class="same-host">list item</a>):</p><figure id="example-126" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-126" class="same-page-hash">Example 126</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><figure id="example-127" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-127" class="same-page-hash">Example 127</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%60%60%0A%0A%60%60%60%0Aaaa" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">`````

```
aaa</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>
```
aaa
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><figure id="example-128" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-128" class="same-page-hash">Example 128</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%3E%20%60%60%60%0A%3E%20aaa%0A%0Abbb" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">> ```
> aaa

bbb</code></pre></div><div class="column right"><pre><code>&#x3C;blockquote>
&#x3C;pre>&#x3C;code>aaa
&#x3C;/code>&#x3C;/pre>
&#x3C;/blockquote>
&#x3C;p>bbb&#x3C;/p>
</code></pre></div></div></figure><p>A code block can have all empty lines as its content:</p><figure id="example-129" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-129" class="same-page-hash">Example 129</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%0A%0A%20%20%0A%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">```

  
```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>
  
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>A code block can be empty:</p><figure id="example-130" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-130" class="same-page-hash">Example 130</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%0A%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">```
```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>Fences can be indented.  If the opening fence is indented,
content lines will have equivalent opening indentation removed,
if present:</p><figure id="example-131" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-131" class="same-page-hash">Example 131</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%20%60%60%60%0A%20aaa%0Aaaa%0A%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example"> ```
 aaa
aaa
```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>aaa
aaa
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><figure id="example-132" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-132" class="same-page-hash">Example 132</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%20%20%60%60%60%0Aaaa%0A%20%20aaa%0Aaaa%0A%20%20%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">  ```
aaa
  aaa
aaa
  ```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>aaa
aaa
aaa
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><figure id="example-133" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-133" class="same-page-hash">Example 133</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%20%20%20%60%60%60%0A%20%20%20aaa%0A%20%20%20%20aaa%0A%20%20aaa%0A%20%20%20%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">   ```
   aaa
    aaa
  aaa
   ```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>aaa
 aaa
aaa
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>Four spaces of indentation is too many:</p><figure id="example-134" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-134" class="same-page-hash">Example 134</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%20%20%20%20%60%60%60%0A%20%20%20%20aaa%0A%20%20%20%20%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">    ```
    aaa
    ```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>```
aaa
```
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>Closing fences may be preceded by up to three spaces of indentation, and their
indentation need not match that of the opening fence:</p><figure id="example-135" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-135" class="same-page-hash">Example 135</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%0Aaaa%0A%20%20%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">```
aaa
  ```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>aaa
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><figure id="example-136" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-136" class="same-page-hash">Example 136</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%20%20%20%60%60%60%0Aaaa%0A%20%20%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">   ```
aaa
  ```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>aaa
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>This is not a closing fence, because it is indented 4 spaces:</p><figure id="example-137" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-137" class="same-page-hash">Example 137</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%0Aaaa%0A%20%20%20%20%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">```
aaa
    ```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>aaa
    ```
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>Code fences (opening and closing) cannot contain internal spaces or tabs:</p><figure id="example-138" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-138" class="same-page-hash">Example 138</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%20%60%60%60%0Aaaa" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">``` ```
aaa</code></pre></div><div class="column right"><pre><code>&#x3C;p>&#x3C;code> &#x3C;/code>
aaa&#x3C;/p>
</code></pre></div></div></figure><figure id="example-139" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-139" class="same-page-hash">Example 139</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=~~~~~~%0Aaaa%0A~~~%20~~" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">~~~~~~
aaa
~~~ ~~</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>aaa
~~~ ~~
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>Fenced code blocks can interrupt paragraphs, and can be followed
directly by paragraphs, without a blank line between:</p><figure id="example-140" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-140" class="same-page-hash">Example 140</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=foo%0A%60%60%60%0Abar%0A%60%60%60%0Abaz" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">foo
```
bar
```
baz</code></pre></div><div class="column right"><pre><code>&#x3C;p>foo&#x3C;/p>
&#x3C;pre>&#x3C;code>bar
&#x3C;/code>&#x3C;/pre>
&#x3C;p>baz&#x3C;/p>
</code></pre></div></div></figure><p>Other blocks can also occur before and after fenced code blocks
without an intervening blank line:</p><figure id="example-141" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-141" class="same-page-hash">Example 141</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=foo%0A---%0A~~~%0Abar%0A~~~%0A%23%20baz" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">foo
---
~~~
bar
~~~
# baz</code></pre></div><div class="column right"><pre><code>&#x3C;h2>foo&#x3C;/h2>
&#x3C;pre>&#x3C;code>bar
&#x3C;/code>&#x3C;/pre>
&#x3C;h1>baz&#x3C;/h1>
</code></pre></div></div></figure><p>An <a href="./4-5-fenced-code-blocks#info-string" class="same-page-hash">info string</a> can be provided after the opening code fence.
Although this spec doesn't mandate any particular treatment of
the info string, the first word is typically used to specify
the language of the code block. In HTML output, the language is
normally indicated by adding a class to the <code>code</code> element consisting
of <code>language-</code> followed by the language name.</p><figure id="example-142" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-142" class="same-page-hash">Example 142</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60ruby%0Adef%20foo(x)%0A%20%20return%203%0Aend%0A%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">```ruby
def foo(x)
  return 3
end
```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code class="language-ruby">def foo(x)
  return 3
end
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><figure id="example-143" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-143" class="same-page-hash">Example 143</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=~~~~%20%20%20%20ruby%20startline%3D3%20%24%25%40%23%24%0Adef%20foo(x)%0A%20%20return%203%0Aend%0A~~~~~~~" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">~~~~    ruby startline=3 $%@#$
def foo(x)
  return 3
end
~~~~~~~</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code class="language-ruby">def foo(x)
  return 3
end
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><figure id="example-144" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-144" class="same-page-hash">Example 144</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%60%3B%0A%60%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">````;
````</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code class="language-;">&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p><a href="./4-5-fenced-code-blocks#info-string" class="same-page-hash">Info strings</a> for backtick code blocks cannot contain backticks:</p><figure id="example-145" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-145" class="same-page-hash">Example 145</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%20aa%20%60%60%60%0Afoo" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">``` aa ```
foo</code></pre></div><div class="column right"><pre><code>&#x3C;p>&#x3C;code>aa&#x3C;/code>
foo&#x3C;/p>
</code></pre></div></div></figure><p><a href="./4-5-fenced-code-blocks#info-string" class="same-page-hash">Info strings</a> for tilde code blocks can contain backticks and tildes:</p><figure id="example-146" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-146" class="same-page-hash">Example 146</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=~~~%20aa%20%60%60%60%20~~~%0Afoo%0A~~~" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">~~~ aa ``` ~~~
foo
~~~</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code class="language-aa">foo
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><p>Closing code fences cannot have <a href="./4-5-fenced-code-blocks#info-string" class="same-page-hash">info strings</a>:</p><figure id="example-147" class="example-code"><figcaption><span class="title"><a href="./4-5-fenced-code-blocks#example-147" class="same-page-hash">Example 147</a></span><a class="dingus" href="/commonmark-spec-viewer/dingus?text=%60%60%60%0A%60%60%60%20aaa%0A%60%60%60" title="open in interactive dingus" target="_blank" rel="noopener noreferer" class="same-host">Try It</a></figcaption><div class="columns"><div class="column left"><pre><code class="language-example">```
``` aaa
```</code></pre></div><div class="column right"><pre><code>&#x3C;pre>&#x3C;code>``` aaa
&#x3C;/code>&#x3C;/pre>
</code></pre></div></div></figure><!-- HTML_TAG_END -->
</article>

					<aside class="right-sidebar svelte-ira8jq"><nav class="svelte-emiyuh"><!-- HTML_TAG_START --><ul><li><a href="#fenced-code-blocks">4.5 Fenced code blocks</a></li></ul><!-- HTML_TAG_END -->
</nav></aside></div>

			<footer class="svelte-ira8jq"><nav data-sveltekit-reload class="svelte-1uzx3u4"><div>Prev: <a href="./4-4-indented-code-blocks#indented-code-blocks" class="svelte-1uzx3u4">4.4 Indented code blocks</a></div>

	<div>Above:
		<a href="./4-leaf-blocks#leaf-blocks" class="svelte-1uzx3u4">4 Leaf blocks</a></div>

	<div>Next: <a href="./4-6-html-blocks#html-blocks" class="svelte-1uzx3u4">4.6 HTML blocks</a></div>
</nav></footer></div>
	</div></main>

	<footer class="svelte-10tsrky">based on
<a href="https://spec.commonmark.org/" target="_blank" rel="noreferrer noopener">https://spec.commonmark.org/</a>
(try
<a href="https://spec.commonmark.org/dingus/" target="_blank" rel="noreferrer noopener">dingus</a>)</footer>
</div>

</div>
	</body>
</html>
